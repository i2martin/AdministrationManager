{% extends "base.html" %}
{% block title %}Postavke{% endblock %}
{% include 'header.html' %}
{% block content %}
<script>
    function isNumber()
    {
        var inventory_number = document.getElementById('inventory_number').value;
        var inventory_number_error = document.getElementById('inventory_number_error');
        var value = document.getElementById('value').value;
        var value_error = document.getElementById('value_error');
        var amount = document.getElementById('amount').value;
        var amount_error = document.getElementById('amount_error');
        if (isNaN(inventory_number))
        {
            inventory_number_error.style.display = "inherit";
            value_error.style.visibility = "hidden";
            amount_error.style.visibility = "hidden";
            inventory_number_error.innerHTML = 'Niste unijeli ispravan broj!';
            return false;
        }
        else if (isNaN(value))
        {
            value_error.style.visibility = "visible";
            inventory_number_error.style.visibility = "hidden";
            amount_error.style.visibility = "hidden";
            value_error.innerHTML = 'Niste unijeli ispravnu vrijednost!';
            return false;
        }
        else if (isNaN(amount))
        {
            amount_error.style.visibility = "visible";
            value_error.style.visibility = "hidden";
            inventory_number_error.style.visibility = "hidden";
            amount_error.innerHTML = 'Niste unijeli ispravnu količinu!';
            return false;
        }
        else
        {
            return true;
        }
    }
</script>
<div class="settings">
    <h1 class="text-center text-light" style="padding-bottom: 5%;"> Dodavanje inventara</h1>
    <div class="col-lg-12 col-xl-11">
                {% with messages = get_flashed_messages() %}
                {% if messages %}
                    {% for message in messages %}
                        {% if success %}
                            <div class="alert alert-success alert-dismissible fade show" role="alert">
                                {{ message }}
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                            </div>
                        {% else %}
                            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                            {{ message }}
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                            </div>
                        {% endif %}
                     {% endfor %}
                {% endif %}
            {% endwith %}
        </div>
    <form  onsubmit="return isNumber()" id="inventory" action="{{url_for('dodaj_inventar')}}" method="POST" class="add-shadow" style="border-radius:10px;">
        <ul class="list-group list-group-flush" style="border-radius: 10px;">
            <li class="list-group-item">
                <span class="left">Inventarni broj</span> <span
                    class="right">{{form.inventory_number(class="custom_string_field text-center", placeholder="108",  oninvalid="this.setCustomValidity('Inventarni broj je obavezan!')", oninput="this.setCustomValidity('')", required="True")}}</span>
                <br>
                <span style="visibility: hidden" class="left">................354354...........</span>
                <span class="right" id="inventory_number_error"></span>
            </li>
            <li class="list-group-item">
                <span class="left">Naziv</span> <span class="right">{{form.name(size = 35, class="custom_string_field text-center", placeholder="Kutija šibica", oninvalid="this.setCustomValidity('Naziv je obavezan!')", oninput="this.setCustomValidity('')", required="True")}}</span>
            </li>
            <li class="list-group-item">
                <span class="left">Lokacija</span> <span class="right">{{form.location(size = 35, class="custom_string_field text-center", placeholder="Tajništvo", oninvalid="this.setCustomValidity('Lokacija je obavezna!')", oninput="this.setCustomValidity('')", required="True")}}</span>
            </li>
            <li class="list-group-item">
                <span class="left">Jedinica mjere</span> <span class="right">{{form.unit(size=20, class="custom_string_field text-center", placeholder="komad", oninvalid="this.setCustomValidity('Jedinica mjere je obavezna!')", oninput="this.setCustomValidity('')", required="True")}}</span>
            </li>
            <li class="list-group-item">
                <span class="left">Količina</span> <span class="right">{{form.amount(size=20, class="custom_string_field text-center", placeholder="5",  oninvalid="this.setCustomValidity('Količina je obavezna!')", oninput="this.setCustomValidity('')", required="True")}}</span>
                <br>
                <span style="visibility: hidden" class="left">...............6555555................</span>
                <span class="right" id="amount_error"></span>
            </li>
            <li class="list-group-item">
                <span class="left">Procijenjena vrijednost</span> <span class="right">{{form.value(class="custom_string_field text-center", placeholder="100EUR",  oninvalid="this.setCustomValidity('Vrijednost je obavezna!')", oninput="this.setCustomValidity('')", required="True")}}</span>
                <br>
                <span style="visibility: hidden" class="left">..............453543.............</span>
                <span class="right" id="value_error"></span>
            </li>

            <div class="btn-custom justify-content-center align-content-center text-center" style="margin-top: 5%;">
                {{form.submit(class='btn btn-primary btn-large col-3 text-light')}}
            </div>
        </ul>

    </form>
</div>
{% endblock %}
{% block footer %}
<footer class="footer2">
@Copyright Ivan Martinović 2023.
</footer>
{% endblock %}